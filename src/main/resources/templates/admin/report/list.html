<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro" th:include="layout/layout">
	<div class="container-fluid" th:fragment="content">
		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
			<legend>报告列表</legend>
		</fieldset>
		<table class="table">
			<tr>
				<th>编号</th>
				<th>状态</th>
				<th>老师姓名</th>
				<th>学生姓名</th>
<!--				<th>老师批注</th>-->
<!--				<th>学生留言</th>-->
				<th>类型</th>
				<th>上传时间</th>
				<th>操作</th>
			</tr>
			<tr th:each="page : ${page.getRecords()}">
				<td th:text="${page.id}"></td>
				<td th:text="${page.stateName}"></td>
				<td th:text="${page.teacherName}"></td>
				<td th:text="${page.studentName}"></td>
<!--				<td th:text="${page.getRemark()}"></td>-->
<!--				<td th:text="${page.getContent()}"></td>-->
				<td th:text="${page.typeName}"></td>
				<td th:text="${#dates.format(page.getInTime(),'yyyy-MM-dd HH:mm:ss')}"></td>
				<td>
					<a shiro:hasPermission="'report:check'" th:href="'/report/detail?id=' + ${page.getId()}" class="btn btn-xs btn-primary">详情</a>
					<a shiro:hasPermission="'report:delete'" th:href="'/report/delete?id=' + ${page.getId()}" class="btn btn-xs btn-danger">删除</a>
				</td>
			</tr>
		</table>
		<ul class="pagination" >
			<li th:class="${page.getCurrent()==1}?'disabled' : ''"><a th:href="${page.getCurrent()==1}?'#' : '/report/list?pageNo=' + ${page.getCurrent()-1}">上一页</a></li>
			<li th:if="${page.getCurrent()-3 >=1}" ><a th:href="'/report/list?pageNo=' + ${page.getCurrent()-3}" th:text="${page.getCurrent() -3}" >1</a></li>
			<li th:if="${page.getCurrent()-2 >=1}" ><a th:href="'/report/list?pageNo=' + ${page.getCurrent()-2}" th:text="${page.getCurrent() -2}" >1</a></li>
			<li th:if="${page.getCurrent()-1 >=1}" ><a th:href="'/report/list?pageNo=' + ${page.getCurrent()-1}" th:text="${page.getCurrent() -1}" >1</a></li>
			<li class="active"><a href="#" th:text="${page.getCurrent()}" >1</a></li>
			<li th:if="${page.getCurrent()+1 <=page.getPages()}" ><a th:href="'/report/list?pageNo=' +  ${page.getCurrent()+1}" th:text="${page.getCurrent() +1}" >1</a></li>
			<li th:if="${page.getCurrent()+2 <=page.getPages()}" ><a th:href="'/report/list?pageNo=' + ${page.getCurrent()+2}" th:text="${page.getCurrent() +2}" >1</a></li>
			<li th:if="${page.getCurrent()+3 <=page.getPages()}" ><a th:href="'/report/list?pageNo=' +  ${page.getCurrent()+3}" th:text="${page.getCurrent() +3}" >1</a></li>
			<li th:class="${page.getCurrent()>=page.getPages()}?'disabled' : ''" ><a th:href="${page.getCurrent()>=page.getPages()}?'#' : '/report/list?pageNo=' +  ${page.getCurrent()+1}">下一页</a></li>
		</ul><br>
		</div>
</html>
