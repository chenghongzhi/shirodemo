<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro" th:include="layout/layout">
	<div class="container-fluid" th:fragment="content">
			<h2 class="w3_inner_tittle">用户<small style="color:#aaa">列表</small>
				<a href="/user/add" class="btn btn-xs btn-primary pull-right">添加</a>
			</h2>
			<table class="table">
				<thead>
				<tr>
					<th>编号</th>
					<th>用户名</th>
					<th>角色</th>
					<th>注册时间</th>
					<th>操作</th>
				</tr>
				</thead>
				<tbody>
				<tr th:each="page : ${pages.getRecords()}">
					<td th:text="${page.getId()}"></td>
					<td th:text="${page.getUsername()}"></td>
					<td th:text="${page.getRoleName()}"></td>
					<td th:text="${#dates.format(page.getInTime(), 'yyyy-MM-dd HH:mm:ss')}"></td>
					<td>
						<a shiro:hasPermission="'user:edit'" th:href="'/user/edit?id=' + ${page.getId()}" class="btn btn-xs btn-warning">编辑</a>
						<a shiro:hasPermission="'user:delete'" th:href="'/user/delete?id=' + ${page.getId()}" class="btn btn-xs btn-danger">删除</a>
					</td>
				</tr>
				</tbody>
			</table>
			<ul class="pagination pagination-lg" >
				<li th:class="${pages.getCurrent()==1}?'disabled' : ''"><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()-1}">上一页</a></li>
				<li th:if="${pages.getCurrent()-3 >=1}" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()-3}" th:text="${pages.getCurrent() -3}" >1</a></li>
				<li th:if="${pages.getCurrent()-2 >=1}" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()-2}" th:text="${pages.getCurrent() -2}" >1</a></li>
				<li th:if="${pages.getCurrent()-1 >=1}" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()-1}" th:text="${pages.getCurrent() -1}" >1</a></li>
				<li class="active"><a href="#" th:text="${pages.getCurrent()}" >1</a></li>
				<li th:if="${pages.getCurrent()+1 <=pages.getPages()}" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()+1}" th:text="${pages.getCurrent() +1}" >1</a></li>
				<li th:if="${pages.getCurrent()+2 <=pages.getPages()}" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()+2}" th:text="${pages.getCurrent() +2}" >1</a></li>
				<li th:if="${pages.getCurrent()+3 <=pages.getPages()}" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()+3}" th:text="${pages.getCurrent() +3}" >1</a></li>
				<li th:class="${pages.getCurrent()==pages.getPages()}?'disabled' : ''" ><a th:href="'/user/list?pageNo=' + ${pages.getCurrent()+1}">下一页</a></li>
			</ul><br>
        </div>
</html>
